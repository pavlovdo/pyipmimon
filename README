Description
===========
Zabbix monitoring of state and values of physical server sensors via IPMI

Tested with IBM x3550/x3755, Lenovo SR570/SR630, HP DL380G6


Requirements
============

1) python >= 3.6

2) python module pyghmi: connect and get information from iBMC/IMM server cards via IPMI

3) zabbix-server (tested with versions 4.4-5.2)

4) python module py-zabbix: sending traps to zabbix



Installation
============
1) Give access to servers hardware (IMM/iBMC etc.) for monitoring user. For collect statistic under user zabbix from IBM x3550M5:
Authority = Custom: Remote Console Access

2) Clone pyipmimon repo to directory /etc/zabbix/externalscripts of server with access to storage management network;

3) Import Template Storage Pyipmimon.xml to Zabbix and link template with storage objects in Zabbix;

4) Change example configuration files;

5) Install pip if it is not installed;

6) Install required python modules:
```
pip install -r requirements.txt
```

7) Create cron jobs for zabbix trappers:
```
echo "00 */1 * * *  /etc/zabbix/externalscripts/pyipmimon/ipmi_sensors_discovery.py" > /tmp/crontab && \
echo "*/1 * * * *   /etc/zabbix/externalscripts/pyipmimon/ipmi_sensors_perfomance.py" >> /tmp/crontab && \
crontab /tmp/crontab && rm /tmp/crontab
```

Related Links
=============
http://www.intel.com/content/www/us/en/servers/ipmi/ipmi-technical-resources.html

https://pypi.org/project/pyghmi/

https://opendev.org/x/pyghmi

https://github.com/adubkov/py-zabbix